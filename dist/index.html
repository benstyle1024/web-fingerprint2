<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>webfiger</title>
</head>
<body>
    <h2>webfiger</h2>
    <div>
        <div id="result">请打开控制台</div>
    </div>
    <div id="show"></div>
    <script>
        var ca = document.createElement('canvas')
        var size = 10
        ca.width = size
        ca.height = size
        ca.id = 'mycanvas'
        document.body.appendChild(ca)
        var ctx = ca.getContext('2d')
        ctx.fillStyle = 'GrayText'
        ctx.rect(0, 0, size, size)
        ctx.fill()
        var imageData = ctx.getImageData(0, 0, size, size).data
        console.log(imageData)
        document.getElementById('show').innerHTML = imageData[0] + '-' + imageData[1] + '-' + imageData[2] + '-' + imageData[3]
    </script>
    <script>
        (function(w) {
          // sdk加载失败重试次数
          var times = 3;
          var appendScript = function appendScript() {
            var randomh = Math.random();
            var sc = document.createElement('script');
            sc.src = './webfiger.min.js?x=' + randomh;
            sc.crossOrigin = 'anonymous';
            sc.onerror = function() {
              times--;
              times > 0 && setTimeout(appendScript, 2500);
            };
            document.head && document.head.appendChild(sc);
          };
          w.addEventListener('load', appendScript);
        })(window);
    </script>
    <!-- <script>!function(n){var e=3;n.addEventListener("load",function n(){var o=Math.random(),r=document.createElement("script");r.src="//yun.dui88.com/figerprint/webfiger.cache.js?x="+o,r.crossOrigin="anonymous",r.onerror=function(){--e>0&&setTimeout(n,2500)},document.head&&document.head.appendChild(r)})}(window);</script> -->
</body>
</html>